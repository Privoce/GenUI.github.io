import { Badge } from '@theme';

# 生命周期 <Badge text="experiment" type="danger" />

> [!WARNING]
>
> 当前完整的生命周期还未全部实现，属于实验性功能
> 
> 开放`#[before_mount]`, `#[mounted]`, `#[before_update]`, `#[updated]`

## `#[before_mount]`

在组件实例初始化完成之后立即调用。使用`#[before_mount]`标注在方法上。

### 写法

```rust
impl MyView{
    #[before_mount]
    fn before_mount(){
        println!("before mount!");
    }
}
```

## `#[mounted]`

实例初始化完成后调用的选项

### 写法

```rust
impl MyView{
    #[mounted]
    fn mounted(){
        println!("mounted!");
    }
}
```

## `#[before_update]`

在组件属性更新后，但还未重新渲染组件前被调用

### 写法

```rust
impl Hello{
    #[before_update]
    fn do_before_update(&mut self) -> (){
        println!("do before update => hello.gen!");
        self.set_my_text(format!("{} => handle before", &self.my_text));
    }  
}
```

## `#[updated]`

在组件属性更新后并已经重新对组件进行了渲染之后进行调用

### 写法

```rust
impl Hello{
    #[updated]
    fn do_updated(&mut self){
        println!("do updated => hello.gen!");
        let new_val = self.get_count() + 1;
        self.set_count(new_val);
    }   
}
```