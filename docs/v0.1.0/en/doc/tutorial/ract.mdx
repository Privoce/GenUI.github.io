import { Tab, Tabs } from 'rspress/theme';

# Ract

> Github: https://github.com/Privoce/ract
> 
> Releases: https://github.com/Privoce/ract/releases

[**Ract**](https://github.com/Privoce/ract)  is a conversational CLI tool written in Rust, designed to simplify the development process by providing an all-in-one solution for:  

- Integrating dependencies  
- Setting up environments  
- Generating project templates  
- Running and packaging projects  

With **minimal arguments** and an **intuitive dialog-based interface**, Ract supports frameworks like **GenUI** and **Makepad**, making your development workflow smooth and efficient. 🚀

:::tip
`Ract` is your first step to start GenUI, please choose the latest version to download

In this document, we only teach the commands and usage of Ract for GenUI projects (although they are only slightly different). For the usage of Makepad projects, please refer to: [Ract Makepad](https://github.com/Privoce/ract/blob/main/README/makepad.md)
:::

## 🛠️ Config

> [!WARNING]
> 
> Your computer may prompt security questions, please select Allow
>
> The current packaging problem of Windows system has not been solved

You can configure ract as a global command in the following way：

<Tabs>
    <Tab label="Macos | Linux">
        ```shell
        # copy download ract to /usr/local/bin
        sudo cp /path/to/download/ract /usr/local/bin/ract/ract

        # add permission
        sudo chmod 755 /usr/local/bin/ract
        sudo chmod 755 /usr/local/bin/ract/ract

        # confirm permission
        sudo chown -R $(whoami) /usr/local/bin/ract

        # echo to .zshrc
        echo 'export PATH="/usr/local/bin/ract:$PATH"' >> ~/.zshrc

        source ~/.zshrc
        # get version
        ract --version
        ```
    </Tab>
    <Tab label="Windows">
        ```
        put `path/to/ract` into System Env
        ```
    </Tab>
</Tabs>


## 🚀 Usage

### `init` - Initialize Ract  
Initialize or reset the CLI. Ract will generate:  
1. `.env`  
2. `chain/`  
   - `chain/env.toml`  

```bash
ract init
```

Output:   
```plaintext
🚀 Start to init ract...
✅ Chain init successfully!
🎉 Init ract successfully!
```

---

### `check` - Check Toolchain  
Check if required tools and dependencies are installed. Options include:  
- **Basic**: [cargo, rustc, git]  
- **Underlayer**: [makepad (gen_ui, makepad)]  
- **All**: Combines both basic and underlayer tools.  

```bash
ract check
```

Interactive dialog example:  
```plaintext
🥳 Welcome to use ract checker!
? Which you need to check?
> Basic
  Underlayer
  All
```

---

### `install` - Install Toolchain  
Install required tools and dependencies for development. Available options:  
- **Rust tools**: `rustc`, `cargo`  
- **Version control**: `git`  
- **Makepad-specific tools**: Includes components like `gen_components`, `wasm_build`, and more.  

```bash
ract install
```

Interactive dialog example:  
```plaintext
🥳 Welcome to use ract Install!

🔸 Select the tools to install:
  - rustc
  - cargo
  - git
  - makepad tools (default or custom options)
? What tools you want to (re)install?
> [ ] rustc|cargo
  [ ] git
  [x] makepad
```

---

### `config` - Configure CLI 
 
Set or update environment variables and CLI configurations.  

> [!TIP]
> 
> In most cases, you don't need to configure anything unless you already have Ract dependencies that require special pointers.

```bash
ract config
```

Interactive dialog example: 
```plaintext
🥳 Welcome to use ract config!

🔸 env: Set the `path` for the chain env.toml file
🔸 chain_env_toml: Set the rust dependency for GenUI toolchain

> Which env file do you want to config? chain_env_toml
> Get or Set Config? set
> Which one do you want to config? makepad-widgets
> Path: /Users/shengyifei/projects/makepad/makepad
🎉 Config finish!
```

---

### `create` - Create a GenUI or Makepad Project

Ract will build a **Makepad** or **GenUI** project template based on the configuration entered by the user

**create will help you check current env states**

```bash
ract create
```
Interactive dialog example:  

```plaintext
❤️ WELOCME TO GENUI, ract is a build tool for you!

> Which project you want to create? gen_ui
> Project name: test1
> Authors name: John
> ...
🎉 Your project has been created successfully!
```

---

### `run` - Run a Project  

Run **Makepad** or **GenUI** projects.  

```bash
ract run
```

---

### `add` - add dev plugin

```bash
ract add gen_makepad_http
```

---

### `wasm` - Run WASM Project in Browser  
Build and run a WASM project directly from the CLI.  

```bash
ract wasm
```

Interactive dialog example:  
```plaintext
🥳 Welcome to use ract wasm!

🔸 Port for the web studio 8888
📦 wasm is being packaged
🚀 wasm is being started...
Starting webserver on 127.0.0.1:8888
```

---

### `pkg` - Package a Project  
Package a project using `cargo-packager`.  

```bash
# cd to compiled project package
cd src_gen_0

ract pkg
```

Interactive dialog example:  
```plaintext
🥳 Welcome to use ract packager!

🔸 gpiler will check and install `cargo-packager` if not present.
🔸 Basic packaging configuration is auto-generated.
? Select how to package the project: init
🎉 Package resources have been generated!
```

## 🎯 Features  

### Core Features  

- **Initialization**: Automatically generate `.env` and environment templates.  
- **Toolchain Check**: Verify if all dependencies are installed.  
- **Interactive Installation**: Install only the tools you need.  
- **Environment Configuration**: Flexible configuration of environment paths.  
- **Project Running**: Run Makepad or GenUI projects with a single command.  
- **WASM Support**: Build and serve WASM projects in the browser.  
- **Project Packaging**: Streamlined packaging for distribution.  
- **Watcher**: Monitor changes for automatic reload.  
- **Logger**: Advanced logging system for debugging.  

### Future Features  

- **Better Terminal UI**: Use ratatui to optimize terminal ui.
- **Cross-platform Packaging**: Simplify builds for multiple platforms.  
- **Documentation**: Include a comprehensive book for learning Makepad and GenUI.  
- **Remote Services**: Enable Ract to call some remote services.
- **Auto Update**: Automatic updates to new versions.

---

Ract makes your Rust-based development with **Makepad** and **GenUI** easier, faster, and more efficient. 🎉  

Feel free to contribute or share feedback to help us improve! 😊 